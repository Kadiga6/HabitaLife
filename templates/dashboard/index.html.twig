{% extends 'base.html.twig' %}

{% block title %}Tableau de bord - HabitaGo{% endblock %}

{% block body %}
<div class="container my-5">
    {# Message de bienvenue #}
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="mb-3">Bonjour, Marie ! üëã</h1>
            <p class="text-muted">Bienvenue sur votre espace locataire HabitaGo</p>
        </div>
    </div>

    {# Alertes importantes #}
    <div class="row mb-4">
        <div class="col-12">
            <div class="alert alert-warning d-flex align-items-center" role="alert">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <div>
                    <strong>Attention :</strong> Votre loyer de Janvier 2026 est en attente de paiement. Date limite : 05/01/2026
                    <a href="/payments" class="alert-link ms-2">Voir les paiements ‚Üí</a>
                </div>
            </div>
        </div>
    </div>

    {# Cartes de r√©sum√© principales #}
    <div class="row mb-4">
        <div class="col-md-4 mb-3">
            <div class="card h-100 border-primary">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="bi bi-cash-coin"></i> Paiements</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div>
                            <p class="text-muted mb-1">Loyer mensuel</p>
                            <h3 class="mb-0">850.00 ‚Ç¨</h3>
                        </div>
                        <div class="text-end">
                            <span class="badge bg-warning text-dark">1 en attente</span>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between mb-2">
                        <span class="text-success">Pay√©s :</span>
                        <strong>5</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span class="text-danger">En retard :</span>
                        <strong>0</strong>
                    </div>
                    <a href="/payments" class="btn btn-outline-primary btn-sm w-100">
                        <i class="bi bi-arrow-right-circle"></i> Voir l'historique
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card h-100 border-info">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0"><i class="bi bi-lightning-charge"></i> Consommations</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <p class="text-muted mb-1">Ce mois-ci</p>
                        <h3 class="mb-0">78.50 ‚Ç¨</h3>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between mb-2">
                        <span>√âlectricit√© :</span>
                        <strong>245 kWh</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Eau :</span>
                        <strong>8.5 m¬≥</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span>Gaz :</span>
                        <strong>156 kWh</strong>
                    </div>
                    <a href="/consumption" class="btn btn-outline-info btn-sm w-100">
                        <i class="bi bi-arrow-right-circle"></i> Voir les d√©tails
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card h-100 border-danger">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0"><i class="bi bi-tools"></i> Incidents</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <p class="text-muted mb-1">√âtat actuel</p>
                        <h3 class="mb-0">3 actifs</h3>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between mb-2">
                        <span class="text-warning">En attente :</span>
                        <strong>2</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span class="text-info">En cours :</span>
                        <strong>1</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span class="text-success">R√©solus :</span>
                        <strong>8</strong>
                    </div>
                    <a href="/issues" class="btn btn-outline-danger btn-sm w-100">
                        <i class="bi bi-arrow-right-circle"></i> G√©rer les incidents
                    </a>
                </div>
            </div>
        </div>
    </div>

    {# Actions rapides #}
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0"><i class="bi bi-lightning-fill"></i> Actions rapides</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3 mb-md-0">
                            <button class="btn btn-success w-100" disabled>
                                <i class="bi bi-credit-card"></i><br>
                                Payer mon loyer
                            </button>
                        </div>
                        <div class="col-md-3 mb-3 mb-md-0">
                            <button class="btn btn-danger w-100" disabled>
                                <i class="bi bi-plus-circle"></i><br>
                                D√©clarer un incident
                            </button>
                        </div>
                        <div class="col-md-3 mb-3 mb-md-0">
                            <button class="btn btn-info w-100" disabled>
                                <i class="bi bi-file-earmark-text"></i><br>
                                Mes documents
                            </button>
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-warning w-100" disabled>
                                <i class="bi bi-envelope"></i><br>
                                Contacter le bailleur
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {# Incidents r√©cents #}
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0"><i class="bi bi-exclamation-circle"></i> Incidents en cours</h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <div>
                                <strong>#011</strong> - Fuite d'eau sous l'√©vier
                                <br>
                                <small class="text-muted">D√©clar√© le 10/01/2026</small>
                            </div>
                            <span class="badge bg-danger">Urgente</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <div>
                                <strong>#010</strong> - Radiateur chambre ne chauffe pas
                                <br>
                                <small class="text-muted">D√©clar√© le 08/01/2026</small>
                            </div>
                            <span class="badge bg-info">En cours</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <div>
                                <strong>#009</strong> - Prise √©lectrique cuisine HS
                                <br>
                                <small class="text-muted">D√©clar√© le 05/01/2026</small>
                            </div>
                            <span class="badge bg-warning text-dark">En attente</span>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a href="/issues" class="btn btn-outline-danger btn-sm w-100">Voir tous les incidents ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0"><i class="bi bi-graph-up"></i> Statistiques</h5>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <h6 class="text-muted mb-2">Consommation d'√©nergie</h6>
                        <div class="progress mb-2" style="height: 25px;">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                <strong>-15% vs mois dernier</strong>
                            </div>
                        </div>
                        <small class="text-success"><i class="bi bi-arrow-down"></i> Excellente performance !</small>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-muted mb-2">Historique de paiements</h6>
                        <div class="d-flex justify-content-between align-items-center">
                            <span>Taux de paiement √† temps :</span>
                            <strong class="text-success">100%</strong>
                        </div>
                        <div class="progress mt-2" style="height: 10px;">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 100%"></div>
                        </div>
                    </div>

                    <div>
                        <h6 class="text-muted mb-2">Temps de r√©solution des incidents</h6>
                        <div class="d-flex justify-content-between align-items-center">
                            <span>Moyenne :</span>
                            <strong>3.2 jours</strong>
                        </div>
                        <div class="progress mt-2" style="height: 10px;">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 85%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {# Informations du logement #}
    <div class="row">
        <div class="col-12">
            <div class="card border-secondary">
                <div class="card-header bg-secondary text-white">
                    <h5 class="mb-0"><i class="bi bi-house-door"></i> Informations de votre logement</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <strong>Adresse :</strong><br>
                            15 Rue de la Paix<br>
                            75002 Paris
                        </div>
                        <div class="col-md-3 mb-3">
                            <strong>Type :</strong><br>
                            Appartement T3<br>
                            65 m¬≤
                        </div>
                        <div class="col-md-3 mb-3">
                            <strong>Bail :</strong><br>
                            Depuis le 01/08/2024<br>
                            <span class="badge bg-success">Actif</span>
                        </div>
                        <div class="col-md-3 mb-3">
                            <strong>Bailleur :</strong><br>
                            SCI Les Jardins<br>
                            <a href="mailto:contact@jardins.fr">contact@jardins.fr</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
